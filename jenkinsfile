node('master')
{
stage('Continuous Download')
   {
   
   git 'https://github.com/intelliqittrainings/maven.git'
   }
 stage('Continuous Build')  
   {
    sh 'mvn package'
   }
 stage('Continuous Deploy')  
   {
     sh 'scp /root/.jenkins/workspace/development/webapp/target/webapp.war ubuntu@172.31.25.8:/var/lib/tomcat8/webapps/test.app'
   }
 stage('Continuous Testing')  
   {
       git 'https://github.com/intelliqittrainings/FunctionalTesting.git'
       sh 'java -jar  /root/.jenkins/workspace/development/testing.jar'
       
   }
 stage('Continuous Delivery')  
   {
       sh 'scp /root/.jenkins/workspace/development/webapp/target/webapp.war ubuntu@172.31.25.8:/var/lib/tomcat8/webapps/prod.app'
   }
}
